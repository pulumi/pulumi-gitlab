// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.GitLab
{
    public static class GetArtifactFile
    {
        /// <summary>
        /// The `gitlab.getArtifactFile` data source allows downloading a single artifact file from a specific job in the latest successful pipeline for a given reference (branch, tag, or commit).
        /// **Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/job_artifacts/#download-a-single-artifact-file-by-reference-name)
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using GitLab = Pulumi.GitLab;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     // Download a text artifact file from the latest successful pipeline
        ///     var config = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "config/settings.json",
        ///     });
        /// 
        ///     // Download a binary artifact file using base64 encoding
        ///     var binary = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "v1.0.0",
        ///         ArtifactPath = "dist/app.zip",
        ///     });
        /// 
        ///     // Download artifact from a specific tag
        ///     var release = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "12345",
        ///         Job = "release-job",
        ///         Ref = "v2.1.0",
        ///         ArtifactPath = "release-notes.txt",
        ///     });
        /// 
        ///     // Download a larger artifact with custom size limit
        ///     var largeArtifact = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "dist/large-file.zip",
        ///         MaxSizeBytes = 20971520,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["configContent"] = config.Apply(getArtifactFileResult =&gt; getArtifactFileResult.Content),
        ///         ["binaryContentBase64"] = binary.Apply(getArtifactFileResult =&gt; getArtifactFileResult.ContentBase64),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Task<GetArtifactFileResult> InvokeAsync(GetArtifactFileArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetArtifactFileResult>("gitlab:index/getArtifactFile:getArtifactFile", args ?? new GetArtifactFileArgs(), options.WithDefaults());

        /// <summary>
        /// The `gitlab.getArtifactFile` data source allows downloading a single artifact file from a specific job in the latest successful pipeline for a given reference (branch, tag, or commit).
        /// **Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/job_artifacts/#download-a-single-artifact-file-by-reference-name)
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using GitLab = Pulumi.GitLab;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     // Download a text artifact file from the latest successful pipeline
        ///     var config = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "config/settings.json",
        ///     });
        /// 
        ///     // Download a binary artifact file using base64 encoding
        ///     var binary = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "v1.0.0",
        ///         ArtifactPath = "dist/app.zip",
        ///     });
        /// 
        ///     // Download artifact from a specific tag
        ///     var release = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "12345",
        ///         Job = "release-job",
        ///         Ref = "v2.1.0",
        ///         ArtifactPath = "release-notes.txt",
        ///     });
        /// 
        ///     // Download a larger artifact with custom size limit
        ///     var largeArtifact = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "dist/large-file.zip",
        ///         MaxSizeBytes = 20971520,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["configContent"] = config.Apply(getArtifactFileResult =&gt; getArtifactFileResult.Content),
        ///         ["binaryContentBase64"] = binary.Apply(getArtifactFileResult =&gt; getArtifactFileResult.ContentBase64),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Output<GetArtifactFileResult> Invoke(GetArtifactFileInvokeArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetArtifactFileResult>("gitlab:index/getArtifactFile:getArtifactFile", args ?? new GetArtifactFileInvokeArgs(), options.WithDefaults());

        /// <summary>
        /// The `gitlab.getArtifactFile` data source allows downloading a single artifact file from a specific job in the latest successful pipeline for a given reference (branch, tag, or commit).
        /// **Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/job_artifacts/#download-a-single-artifact-file-by-reference-name)
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using GitLab = Pulumi.GitLab;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     // Download a text artifact file from the latest successful pipeline
        ///     var config = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "config/settings.json",
        ///     });
        /// 
        ///     // Download a binary artifact file using base64 encoding
        ///     var binary = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "v1.0.0",
        ///         ArtifactPath = "dist/app.zip",
        ///     });
        /// 
        ///     // Download artifact from a specific tag
        ///     var release = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "12345",
        ///         Job = "release-job",
        ///         Ref = "v2.1.0",
        ///         ArtifactPath = "release-notes.txt",
        ///     });
        /// 
        ///     // Download a larger artifact with custom size limit
        ///     var largeArtifact = GitLab.GetArtifactFile.Invoke(new()
        ///     {
        ///         Project = "namespace/myproject",
        ///         Job = "build-job",
        ///         Ref = "main",
        ///         ArtifactPath = "dist/large-file.zip",
        ///         MaxSizeBytes = 20971520,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["configContent"] = config.Apply(getArtifactFileResult =&gt; getArtifactFileResult.Content),
        ///         ["binaryContentBase64"] = binary.Apply(getArtifactFileResult =&gt; getArtifactFileResult.ContentBase64),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Output<GetArtifactFileResult> Invoke(GetArtifactFileInvokeArgs args, InvokeOutputOptions options)
            => global::Pulumi.Deployment.Instance.Invoke<GetArtifactFileResult>("gitlab:index/getArtifactFile:getArtifactFile", args ?? new GetArtifactFileInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetArtifactFileArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Path to the artifact file within the job's artifacts archive. This path is relative to the archive contents (not the local filesystem). Ensure each `gitlab.getArtifactFile` data source in your configuration uses a unique ArtifactPath to avoid ambiguity.
        /// </summary>
        [Input("artifactPath", required: true)]
        public string ArtifactPath { get; set; } = null!;

        /// <summary>
        /// The name of the job.
        /// </summary>
        [Input("job", required: true)]
        public string Job { get; set; } = null!;

        /// <summary>
        /// Maximum bytes to read from the artifact. Defaults to 10MB (10485760 bytes).
        /// </summary>
        [Input("maxSizeBytes")]
        public int? MaxSizeBytes { get; set; }

        /// <summary>
        /// The ID or URL-encoded path of the project.
        /// </summary>
        [Input("project", required: true)]
        public string Project { get; set; } = null!;

        /// <summary>
        /// The name of the branch, tag, or commit SHA.
        /// </summary>
        [Input("ref", required: true)]
        public string Ref { get; set; } = null!;

        public GetArtifactFileArgs()
        {
        }
        public static new GetArtifactFileArgs Empty => new GetArtifactFileArgs();
    }

    public sealed class GetArtifactFileInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Path to the artifact file within the job's artifacts archive. This path is relative to the archive contents (not the local filesystem). Ensure each `gitlab.getArtifactFile` data source in your configuration uses a unique ArtifactPath to avoid ambiguity.
        /// </summary>
        [Input("artifactPath", required: true)]
        public Input<string> ArtifactPath { get; set; } = null!;

        /// <summary>
        /// The name of the job.
        /// </summary>
        [Input("job", required: true)]
        public Input<string> Job { get; set; } = null!;

        /// <summary>
        /// Maximum bytes to read from the artifact. Defaults to 10MB (10485760 bytes).
        /// </summary>
        [Input("maxSizeBytes")]
        public Input<int>? MaxSizeBytes { get; set; }

        /// <summary>
        /// The ID or URL-encoded path of the project.
        /// </summary>
        [Input("project", required: true)]
        public Input<string> Project { get; set; } = null!;

        /// <summary>
        /// The name of the branch, tag, or commit SHA.
        /// </summary>
        [Input("ref", required: true)]
        public Input<string> Ref { get; set; } = null!;

        public GetArtifactFileInvokeArgs()
        {
        }
        public static new GetArtifactFileInvokeArgs Empty => new GetArtifactFileInvokeArgs();
    }


    [OutputType]
    public sealed class GetArtifactFileResult
    {
        /// <summary>
        /// Path to the artifact file within the job's artifacts archive. This path is relative to the archive contents (not the local filesystem). Ensure each `gitlab.getArtifactFile` data source in your configuration uses a unique ArtifactPath to avoid ambiguity.
        /// </summary>
        public readonly string ArtifactPath;
        /// <summary>
        /// The content of the artifact file as a UTF-8 string. Use `ContentBase64` for binary files.
        /// </summary>
        public readonly string Content;
        /// <summary>
        /// The content of the artifact file as a base64-encoded string. Useful for binary files.
        /// </summary>
        public readonly string ContentBase64;
        /// <summary>
        /// The ID of this datasource. In the format `&lt;project&gt;:&lt;ref&gt;:&lt;job&gt;:&lt;artifact_path&gt;`.
        /// </summary>
        public readonly string Id;
        /// <summary>
        /// The name of the job.
        /// </summary>
        public readonly string Job;
        /// <summary>
        /// Maximum bytes to read from the artifact. Defaults to 10MB (10485760 bytes).
        /// </summary>
        public readonly int? MaxSizeBytes;
        /// <summary>
        /// The ID or URL-encoded path of the project.
        /// </summary>
        public readonly string Project;
        /// <summary>
        /// The name of the branch, tag, or commit SHA.
        /// </summary>
        public readonly string Ref;

        [OutputConstructor]
        private GetArtifactFileResult(
            string artifactPath,

            string content,

            string contentBase64,

            string id,

            string job,

            int? maxSizeBytes,

            string project,

            string @ref)
        {
            ArtifactPath = artifactPath;
            Content = content;
            ContentBase64 = contentBase64;
            Id = id;
            Job = job;
            MaxSizeBytes = maxSizeBytes;
            Project = project;
            Ref = @ref;
        }
    }
}
