// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package gitlab

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-gitlab/sdk/v9/go/gitlab/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// The `ProjectPackageDependencyProxy` resource allows managing the project-level package dependency proxy for Maven packages.
//
// This resource configures the external Maven registry settings for the dependency proxy, allowing packages to be cached and proxied through GitLab.
//
// > This resource requires GitLab Premium or Ultimate and the packages and dependency proxy features to be enabled on the GitLab instance.
//
// **Upstream API**: [GitLab GraphQL API docs](https://docs.gitlab.com/api/graphql/reference/#mutationupdatedependencyproxypackagessettings)
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-gitlab/sdk/v9/go/gitlab"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Configure the project package dependency proxy for Maven packages
//			_, err := gitlab.NewProjectPackageDependencyProxy(ctx, "example", &gitlab.ProjectPackageDependencyProxyArgs{
//				Project:                  pulumi.Any(exampleGitlabProject.Id),
//				Enabled:                  pulumi.Bool(true),
//				MavenExternalRegistryUrl: pulumi.String("https://repo.maven.apache.org/maven2/"),
//			})
//			if err != nil {
//				return err
//			}
//			// With authentication credentials for the external registry
//			_, err = gitlab.NewProjectPackageDependencyProxy(ctx, "authenticated", &gitlab.ProjectPackageDependencyProxyArgs{
//				Project:                       pulumi.Any(exampleGitlabProject.Id),
//				Enabled:                       pulumi.Bool(true),
//				MavenExternalRegistryUrl:      pulumi.String("https://private-repo.example.com/maven/"),
//				MavenExternalRegistryUsername: pulumi.String("maven_user"),
//				MavenExternalRegistryPassword: pulumi.Any(mavenRegistryPassword),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Starting in Terraform v1.5.0, you can use an import block to import `gitlab_project_package_dependency_proxy`. For example:
//
// terraform
//
// import {
//
//	to = gitlab_project_package_dependency_proxy.example
//
//	id = "see CLI command below for ID"
//
// }
//
// Importing using the CLI is supported with the following syntax:
//
// You can import a project package dependency proxy using the project id. e.g. `{project-id}`
//
// "maven_external_registry_password" will not populate when importing, but will still
//
// be required in the configuration if credentials are used.
//
// ```sh
// $ pulumi import gitlab:index/projectPackageDependencyProxy:ProjectPackageDependencyProxy example 42
// ```
type ProjectPackageDependencyProxy struct {
	pulumi.CustomResourceState

	// Indicates whether the dependency proxy is enabled for packages.
	Enabled pulumi.BoolOutput `pulumi:"enabled"`
	// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
	MavenExternalRegistryPassword pulumi.StringPtrOutput `pulumi:"mavenExternalRegistryPassword"`
	// The URL of the external Maven registry.
	MavenExternalRegistryUrl pulumi.StringOutput `pulumi:"mavenExternalRegistryUrl"`
	// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
	MavenExternalRegistryUsername pulumi.StringPtrOutput `pulumi:"mavenExternalRegistryUsername"`
	// The ID or URL-encoded path of the project.
	Project pulumi.StringOutput `pulumi:"project"`
}

// NewProjectPackageDependencyProxy registers a new resource with the given unique name, arguments, and options.
func NewProjectPackageDependencyProxy(ctx *pulumi.Context,
	name string, args *ProjectPackageDependencyProxyArgs, opts ...pulumi.ResourceOption) (*ProjectPackageDependencyProxy, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	if args.MavenExternalRegistryPassword != nil {
		args.MavenExternalRegistryPassword = pulumi.ToSecret(args.MavenExternalRegistryPassword).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"mavenExternalRegistryPassword",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ProjectPackageDependencyProxy
	err := ctx.RegisterResource("gitlab:index/projectPackageDependencyProxy:ProjectPackageDependencyProxy", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProjectPackageDependencyProxy gets an existing ProjectPackageDependencyProxy resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProjectPackageDependencyProxy(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ProjectPackageDependencyProxyState, opts ...pulumi.ResourceOption) (*ProjectPackageDependencyProxy, error) {
	var resource ProjectPackageDependencyProxy
	err := ctx.ReadResource("gitlab:index/projectPackageDependencyProxy:ProjectPackageDependencyProxy", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ProjectPackageDependencyProxy resources.
type projectPackageDependencyProxyState struct {
	// Indicates whether the dependency proxy is enabled for packages.
	Enabled *bool `pulumi:"enabled"`
	// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
	MavenExternalRegistryPassword *string `pulumi:"mavenExternalRegistryPassword"`
	// The URL of the external Maven registry.
	MavenExternalRegistryUrl *string `pulumi:"mavenExternalRegistryUrl"`
	// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
	MavenExternalRegistryUsername *string `pulumi:"mavenExternalRegistryUsername"`
	// The ID or URL-encoded path of the project.
	Project *string `pulumi:"project"`
}

type ProjectPackageDependencyProxyState struct {
	// Indicates whether the dependency proxy is enabled for packages.
	Enabled pulumi.BoolPtrInput
	// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
	MavenExternalRegistryPassword pulumi.StringPtrInput
	// The URL of the external Maven registry.
	MavenExternalRegistryUrl pulumi.StringPtrInput
	// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
	MavenExternalRegistryUsername pulumi.StringPtrInput
	// The ID or URL-encoded path of the project.
	Project pulumi.StringPtrInput
}

func (ProjectPackageDependencyProxyState) ElementType() reflect.Type {
	return reflect.TypeOf((*projectPackageDependencyProxyState)(nil)).Elem()
}

type projectPackageDependencyProxyArgs struct {
	// Indicates whether the dependency proxy is enabled for packages.
	Enabled *bool `pulumi:"enabled"`
	// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
	MavenExternalRegistryPassword *string `pulumi:"mavenExternalRegistryPassword"`
	// The URL of the external Maven registry.
	MavenExternalRegistryUrl *string `pulumi:"mavenExternalRegistryUrl"`
	// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
	MavenExternalRegistryUsername *string `pulumi:"mavenExternalRegistryUsername"`
	// The ID or URL-encoded path of the project.
	Project string `pulumi:"project"`
}

// The set of arguments for constructing a ProjectPackageDependencyProxy resource.
type ProjectPackageDependencyProxyArgs struct {
	// Indicates whether the dependency proxy is enabled for packages.
	Enabled pulumi.BoolPtrInput
	// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
	MavenExternalRegistryPassword pulumi.StringPtrInput
	// The URL of the external Maven registry.
	MavenExternalRegistryUrl pulumi.StringPtrInput
	// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
	MavenExternalRegistryUsername pulumi.StringPtrInput
	// The ID or URL-encoded path of the project.
	Project pulumi.StringInput
}

func (ProjectPackageDependencyProxyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*projectPackageDependencyProxyArgs)(nil)).Elem()
}

type ProjectPackageDependencyProxyInput interface {
	pulumi.Input

	ToProjectPackageDependencyProxyOutput() ProjectPackageDependencyProxyOutput
	ToProjectPackageDependencyProxyOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyOutput
}

func (*ProjectPackageDependencyProxy) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectPackageDependencyProxy)(nil)).Elem()
}

func (i *ProjectPackageDependencyProxy) ToProjectPackageDependencyProxyOutput() ProjectPackageDependencyProxyOutput {
	return i.ToProjectPackageDependencyProxyOutputWithContext(context.Background())
}

func (i *ProjectPackageDependencyProxy) ToProjectPackageDependencyProxyOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectPackageDependencyProxyOutput)
}

// ProjectPackageDependencyProxyArrayInput is an input type that accepts ProjectPackageDependencyProxyArray and ProjectPackageDependencyProxyArrayOutput values.
// You can construct a concrete instance of `ProjectPackageDependencyProxyArrayInput` via:
//
//	ProjectPackageDependencyProxyArray{ ProjectPackageDependencyProxyArgs{...} }
type ProjectPackageDependencyProxyArrayInput interface {
	pulumi.Input

	ToProjectPackageDependencyProxyArrayOutput() ProjectPackageDependencyProxyArrayOutput
	ToProjectPackageDependencyProxyArrayOutputWithContext(context.Context) ProjectPackageDependencyProxyArrayOutput
}

type ProjectPackageDependencyProxyArray []ProjectPackageDependencyProxyInput

func (ProjectPackageDependencyProxyArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectPackageDependencyProxy)(nil)).Elem()
}

func (i ProjectPackageDependencyProxyArray) ToProjectPackageDependencyProxyArrayOutput() ProjectPackageDependencyProxyArrayOutput {
	return i.ToProjectPackageDependencyProxyArrayOutputWithContext(context.Background())
}

func (i ProjectPackageDependencyProxyArray) ToProjectPackageDependencyProxyArrayOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectPackageDependencyProxyArrayOutput)
}

// ProjectPackageDependencyProxyMapInput is an input type that accepts ProjectPackageDependencyProxyMap and ProjectPackageDependencyProxyMapOutput values.
// You can construct a concrete instance of `ProjectPackageDependencyProxyMapInput` via:
//
//	ProjectPackageDependencyProxyMap{ "key": ProjectPackageDependencyProxyArgs{...} }
type ProjectPackageDependencyProxyMapInput interface {
	pulumi.Input

	ToProjectPackageDependencyProxyMapOutput() ProjectPackageDependencyProxyMapOutput
	ToProjectPackageDependencyProxyMapOutputWithContext(context.Context) ProjectPackageDependencyProxyMapOutput
}

type ProjectPackageDependencyProxyMap map[string]ProjectPackageDependencyProxyInput

func (ProjectPackageDependencyProxyMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectPackageDependencyProxy)(nil)).Elem()
}

func (i ProjectPackageDependencyProxyMap) ToProjectPackageDependencyProxyMapOutput() ProjectPackageDependencyProxyMapOutput {
	return i.ToProjectPackageDependencyProxyMapOutputWithContext(context.Background())
}

func (i ProjectPackageDependencyProxyMap) ToProjectPackageDependencyProxyMapOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectPackageDependencyProxyMapOutput)
}

type ProjectPackageDependencyProxyOutput struct{ *pulumi.OutputState }

func (ProjectPackageDependencyProxyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectPackageDependencyProxy)(nil)).Elem()
}

func (o ProjectPackageDependencyProxyOutput) ToProjectPackageDependencyProxyOutput() ProjectPackageDependencyProxyOutput {
	return o
}

func (o ProjectPackageDependencyProxyOutput) ToProjectPackageDependencyProxyOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyOutput {
	return o
}

// Indicates whether the dependency proxy is enabled for packages.
func (o ProjectPackageDependencyProxyOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *ProjectPackageDependencyProxy) pulumi.BoolOutput { return v.Enabled }).(pulumi.BoolOutput)
}

// The password to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryUsername`. Cannot be imported.
func (o ProjectPackageDependencyProxyOutput) MavenExternalRegistryPassword() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProjectPackageDependencyProxy) pulumi.StringPtrOutput { return v.MavenExternalRegistryPassword }).(pulumi.StringPtrOutput)
}

// The URL of the external Maven registry.
func (o ProjectPackageDependencyProxyOutput) MavenExternalRegistryUrl() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectPackageDependencyProxy) pulumi.StringOutput { return v.MavenExternalRegistryUrl }).(pulumi.StringOutput)
}

// The username to authenticate with the external Maven registry. Must be set together with `mavenExternalRegistryPassword`.
func (o ProjectPackageDependencyProxyOutput) MavenExternalRegistryUsername() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ProjectPackageDependencyProxy) pulumi.StringPtrOutput { return v.MavenExternalRegistryUsername }).(pulumi.StringPtrOutput)
}

// The ID or URL-encoded path of the project.
func (o ProjectPackageDependencyProxyOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectPackageDependencyProxy) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

type ProjectPackageDependencyProxyArrayOutput struct{ *pulumi.OutputState }

func (ProjectPackageDependencyProxyArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectPackageDependencyProxy)(nil)).Elem()
}

func (o ProjectPackageDependencyProxyArrayOutput) ToProjectPackageDependencyProxyArrayOutput() ProjectPackageDependencyProxyArrayOutput {
	return o
}

func (o ProjectPackageDependencyProxyArrayOutput) ToProjectPackageDependencyProxyArrayOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyArrayOutput {
	return o
}

func (o ProjectPackageDependencyProxyArrayOutput) Index(i pulumi.IntInput) ProjectPackageDependencyProxyOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ProjectPackageDependencyProxy {
		return vs[0].([]*ProjectPackageDependencyProxy)[vs[1].(int)]
	}).(ProjectPackageDependencyProxyOutput)
}

type ProjectPackageDependencyProxyMapOutput struct{ *pulumi.OutputState }

func (ProjectPackageDependencyProxyMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectPackageDependencyProxy)(nil)).Elem()
}

func (o ProjectPackageDependencyProxyMapOutput) ToProjectPackageDependencyProxyMapOutput() ProjectPackageDependencyProxyMapOutput {
	return o
}

func (o ProjectPackageDependencyProxyMapOutput) ToProjectPackageDependencyProxyMapOutputWithContext(ctx context.Context) ProjectPackageDependencyProxyMapOutput {
	return o
}

func (o ProjectPackageDependencyProxyMapOutput) MapIndex(k pulumi.StringInput) ProjectPackageDependencyProxyOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ProjectPackageDependencyProxy {
		return vs[0].(map[string]*ProjectPackageDependencyProxy)[vs[1].(string)]
	}).(ProjectPackageDependencyProxyOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectPackageDependencyProxyInput)(nil)).Elem(), &ProjectPackageDependencyProxy{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectPackageDependencyProxyArrayInput)(nil)).Elem(), ProjectPackageDependencyProxyArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectPackageDependencyProxyMapInput)(nil)).Elem(), ProjectPackageDependencyProxyMap{})
	pulumi.RegisterOutputType(ProjectPackageDependencyProxyOutput{})
	pulumi.RegisterOutputType(ProjectPackageDependencyProxyArrayOutput{})
	pulumi.RegisterOutputType(ProjectPackageDependencyProxyMapOutput{})
}
