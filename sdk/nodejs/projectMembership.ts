// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "./utilities";

/**
 * The `gitlab.ProjectMembership` resource allows to manage the lifecycle of a users project membership.
 *
 * > If a project should grant membership to an entire group use the `gitlab.ProjectShareGroup` resource instead.
 *
 * **Upstream API**: [GitLab REST API docs](https://docs.gitlab.com/api/project_members/)
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as gitlab from "@pulumi/gitlab";
 *
 * const test = new gitlab.ProjectMembership("test", {
 *     project: "12345",
 *     userId: 1337,
 *     accessLevel: "guest",
 * });
 * const example = new gitlab.ProjectMembership("example", {
 *     project: "67890",
 *     userId: 1234,
 *     accessLevel: "guest",
 *     expiresAt: "2022-12-31",
 * });
 * ```
 *
 * ## Import
 *
 * Starting in Terraform v1.5.0, you can use an import block to import `gitlab_project_membership`. For example:
 *
 * terraform
 *
 * import {
 *
 *   to = gitlab_project_membership.example
 *
 *   id = "see CLI command below for ID"
 *
 * }
 *
 * Importing using the CLI is supported with the following syntax:
 *
 * GitLab project membership can be imported using an id made up of `project_id:user_id`, e.g.
 *
 * ```sh
 * $ pulumi import gitlab:index/projectMembership:ProjectMembership test "12345:1337"
 * ```
 */
export class ProjectMembership extends pulumi.CustomResource {
    /**
     * Get an existing ProjectMembership resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ProjectMembershipState, opts?: pulumi.CustomResourceOptions): ProjectMembership {
        return new ProjectMembership(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'gitlab:index/projectMembership:ProjectMembership';

    /**
     * Returns true if the given object is an instance of ProjectMembership.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is ProjectMembership {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === ProjectMembership.__pulumiType;
    }

    /**
     * The access level for the member. Valid values are: `no one`, `minimal`, `guest`, `planner`, `reporter`, `developer`, `maintainer`, `owner`
     */
    declare public readonly accessLevel: pulumi.Output<string>;
    /**
     * Expiration date for the project membership. Format: `YYYY-MM-DD`
     */
    declare public readonly expiresAt: pulumi.Output<string | undefined>;
    /**
     * The ID of a custom member role. Not including the member role ID will cause the role to update the membership to the base role if the custom role is current set. Only available for Ultimate instances.
     */
    declare public readonly memberRoleId: pulumi.Output<number | undefined>;
    /**
     * The ID or URL-encoded path of the project.
     */
    declare public readonly project: pulumi.Output<string>;
    /**
     * The id of the user.
     */
    declare public readonly userId: pulumi.Output<number>;

    /**
     * Create a ProjectMembership resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ProjectMembershipArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ProjectMembershipArgs | ProjectMembershipState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ProjectMembershipState | undefined;
            resourceInputs["accessLevel"] = state?.accessLevel;
            resourceInputs["expiresAt"] = state?.expiresAt;
            resourceInputs["memberRoleId"] = state?.memberRoleId;
            resourceInputs["project"] = state?.project;
            resourceInputs["userId"] = state?.userId;
        } else {
            const args = argsOrState as ProjectMembershipArgs | undefined;
            if (args?.accessLevel === undefined && !opts.urn) {
                throw new Error("Missing required property 'accessLevel'");
            }
            if (args?.project === undefined && !opts.urn) {
                throw new Error("Missing required property 'project'");
            }
            if (args?.userId === undefined && !opts.urn) {
                throw new Error("Missing required property 'userId'");
            }
            resourceInputs["accessLevel"] = args?.accessLevel;
            resourceInputs["expiresAt"] = args?.expiresAt;
            resourceInputs["memberRoleId"] = args?.memberRoleId;
            resourceInputs["project"] = args?.project;
            resourceInputs["userId"] = args?.userId;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(ProjectMembership.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering ProjectMembership resources.
 */
export interface ProjectMembershipState {
    /**
     * The access level for the member. Valid values are: `no one`, `minimal`, `guest`, `planner`, `reporter`, `developer`, `maintainer`, `owner`
     */
    accessLevel?: pulumi.Input<string>;
    /**
     * Expiration date for the project membership. Format: `YYYY-MM-DD`
     */
    expiresAt?: pulumi.Input<string>;
    /**
     * The ID of a custom member role. Not including the member role ID will cause the role to update the membership to the base role if the custom role is current set. Only available for Ultimate instances.
     */
    memberRoleId?: pulumi.Input<number>;
    /**
     * The ID or URL-encoded path of the project.
     */
    project?: pulumi.Input<string>;
    /**
     * The id of the user.
     */
    userId?: pulumi.Input<number>;
}

/**
 * The set of arguments for constructing a ProjectMembership resource.
 */
export interface ProjectMembershipArgs {
    /**
     * The access level for the member. Valid values are: `no one`, `minimal`, `guest`, `planner`, `reporter`, `developer`, `maintainer`, `owner`
     */
    accessLevel: pulumi.Input<string>;
    /**
     * Expiration date for the project membership. Format: `YYYY-MM-DD`
     */
    expiresAt?: pulumi.Input<string>;
    /**
     * The ID of a custom member role. Not including the member role ID will cause the role to update the membership to the base role if the custom role is current set. Only available for Ultimate instances.
     */
    memberRoleId?: pulumi.Input<number>;
    /**
     * The ID or URL-encoded path of the project.
     */
    project: pulumi.Input<string>;
    /**
     * The id of the user.
     */
    userId: pulumi.Input<number>;
}
